(window.webpackJsonp=window.webpackJsonp||[]).push([["models"],{"./node_modules/@splunk/swc-mltk/dist/build_tools/web_loaders/splunk-public-path-injection-loader.js?/static/app/Splunk_ML_Toolkit/!./src/main/webapp/pages/models.es":function(e,t,s){var l,o;s.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,s,l="",o=0,i=arguments.length;o<i;o++)(s=(t=arguments[o].toString()).length)>1&&"/"==t.charAt(s-1)&&(t=t.substring(0,s-1)),"/"!=t.charAt(0)?l+="/"+t:l+=t;if("/"!=l){var a=l.split("/"),n=a[1];if("static"==n||"modules"==n){var d=l.substring(n.length+2,l.length);l="/"+n,window.$C.BUILD_NUMBER&&(l+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(l+="."+window.$C.BUILD_PUSH_NUMBER),"app"==a[2]&&(l+=":"+e("APP_BUILD",0)),l+="/"+d}}var r=e("MRSPARKLE_ROOT_PATH","/"),u=e("LOCALE","en-US"),c="/"+u+l;return""==r||"/"==r?c:r+c}("/static/app/Splunk_ML_Toolkit/")+"/"}(),l=[s("./src/main/webapp/routers/Models.es"),s("./node_modules/@splunk/swc-mltk/dist/index.js")],void 0===(o=function(e,t){"use strict";var s;new(e=(s=e)&&s.__esModule?s:{default:s}).default,t.routerUtils.start_backbone_history()}.apply(t,l))||(e.exports=o)},"./src/main/webapp/collections/MLModels.es":function(e,t,s){var l,o;l=[t,s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.search.js"),s("./node_modules/core-js/modules/es.array.concat.js"),s("./node_modules/@splunk/swc-mltk/dist/index.js"),s("./src/main/webapp/models/MLModel.es")],void 0===(o=function(s,l,o,i,a,n){"use strict";var d;Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,n=(d=n)&&d.__esModule?d:{default:d};var r=a.SplunkDsBaseCollection.extend({model:n.default,url:"mltk/list_models",sync:function(e,t,s){var l=a.jquery.extend(!0,{data:{}},s);switch(e){case"read":l.data.search?l.data.search="(".concat(l.data.search,") AND (").concat("name!=__mlspl__exp*",")"):l.data.search="name!=__mlspl__exp*"}return a.SplunkDsBaseCollection.prototype.sync.apply(this,[e,t,l])}});s.default=r,e.exports=t.default}.apply(t,l))||(e.exports=o)},"./src/main/webapp/models/Lookup.es":function(e,t,s){var l,o;l=[t,s("./node_modules/@splunk/swc-mltk/dist/index.js")],void 0===(o=function(s,l){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=l.LookupTableFileModel.extend({getFormattedName:function(){return this.entry.get("name")},getDescription:function(){return""},canEditPermissions:function(){return this.canWrite()&&this.entry.acl.get("can_change_perms")},canDelete:function(){return this.entry.links.has("remove")},canWrite:function(){return this.entry.acl.get("can_write")}});s.default=o,e.exports=t.default}.apply(t,l))||(e.exports=o)},"./src/main/webapp/models/MLModel.es":function(e,t,s){var l,o;l=[t,s("./node_modules/@splunk/swc-mltk/dist/index.js"),s("./src/main/webapp/models/Lookup.es"),s("./src/main/webapp/models/MLSPLInfo.es")],void 0===(o=function(s,l,o,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,o=a(o),i=a(i);var n=o.default.extend({getModelInfo:function(e){return this.entry.content.get("".concat("mlspl:model_info",".").concat(e))},getType:function(){return this.getModelInfo("algo_name")},getFormattedName:function(){return this.getModelInfo("model_name")},getTargetVariable:function(){var e=this.getModelInfo("target_variable");return null==e&&null!=this.getModelInfo("explanatory_variables")&&(e=this.getModelInfo("variables")),e},getFeatureVariables:function(){var e=this.getModelInfo("feature_variables");if(null==e){var t=this.getModelInfo("explanatory_variables");e=null!=t?t:this.getModelInfo("variables")}return e}},{Entry:l.BaseModel.extend({},{Links:l.BaseModel,ACL:l.ACLReadOnlyModel,Content:i.default.extend({mlSplNamespace:"mlspl:model_info"}),Fields:l.BaseModel})});s.default=n,e.exports=t.default}.apply(t,l))||(e.exports=o)},"./src/main/webapp/models/MLSPLInfo.es":function(e,t,s){var l,o;l=[t,s("./node_modules/@splunk/swc-mltk/dist/index.js")],void 0===(o=function(s,l){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=l.BaseModel.extend({mlSplNamespace:null,get:function(e){if(null!=this.mlSplNamespace&&0===e.indexOf("".concat(this.mlSplNamespace,"."))){var t=l.BaseModel.prototype.get.apply(this,[this.mlSplNamespace]),s=e.substring(this.mlSplNamespace.length+1);return t[s]}return l.BaseModel.prototype.get.apply(this,arguments)}});s.default=o,e.exports=t.default}.apply(t,l))||(e.exports=o)},"./src/main/webapp/routers/Models.es":function(e,t,s){var l,o;l=[t,s("./node_modules/@splunk/ui-utils/i18n.js"),s("./src/main/webapp/routers/Base.es"),s("models/Master")],void 0===(o=function(s,l,o,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,o=a(o),i=a(i);var n=o.default.extend({initialize:function(){o.default.prototype.initialize.apply(this,arguments),this.setPageTitle((0,l.gettext)("Models"))},page:function(){o.default.prototype.page.apply(this,arguments),this.modelsView&&this.modelsView.remove(),this.modelsView=new i.default({model:{classicurl:this.model.classicurl},deferreds:{layout:this.deferreds.layout}})}});s.default=n,e.exports=t.default}.apply(t,l))||(e.exports=o)},"lookups/table/DeleteDialog":function(e,t,s){(function(e){var l,o;l=[t,s("./node_modules/@splunk/swc-mltk/dist/index.js"),e],void 0===(o=function(e,s,l){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l=(o=l)&&o.__esModule?o:{default:o};var i=s.ModalView.extend({moduleId:l.default.id,initialize:function(e){s.ModalView.prototype.initialize.apply(this,arguments),this.children.flashMessage=new s.FlashMessagesView({model:this.model.lookupsModel})},events:s.jquery.extend({},s.ModalView.prototype.events,{"click .btn-primary":function(e){var t=this,l=this.model.lookupsModel.destroy({wait:!0});s.jquery.when(l).then((function(){t.hide()})),e.preventDefault()}}),render:function(){return this.$el.html(s.ModalView.TEMPLATE),this.children.flashMessage.render().prependTo(this.$(s.ModalView.BODY_SELECTOR)),this.$(s.ModalView.HEADER_TITLE_SELECTOR).html("Delete ".concat(this.options.lookupType)),this.$(s.ModalView.BODY_SELECTOR).append("<span>Are you sure you want to delete <em>".concat(this.options.lookupName,"</em> ?</span>")),this.$(s.ModalView.FOOTER_SELECTOR).append(s.ModalView.BUTTON_CANCEL),this.$(s.ModalView.FOOTER_SELECTOR).append(this.compiledTemplate({})),this},template:'\n        <a href="#" class="btn btn-primary">Delete</a>\n    '});e.default=i,l.default.exports=t.default}.apply(t,l))||(e.exports=o)}).call(this,s("./node_modules/webpack/buildin/module.js")(e))},"models/Master":function(e,t,s){(function(e){var l,o;l=[t,s("./node_modules/core-js/modules/es.regexp.exec.js"),s("./node_modules/core-js/modules/es.string.split.js"),s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/@splunk/swc-mltk/dist/index.js"),s("./src/main/webapp/contrib_shim/underscore/underscore.es"),e,s("./src/main/webapp/collections/MLModels.es"),s("lookups/table/TableCaption"),s("shared/BaseDashboard"),s("models/table/Master")],void 0===(o=function(e,s,l,o,i,a,n,d,r,u,c){"use strict";function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a=p(a),n=p(n),d=p(d),r=p(r),u=p(u),c=p(c);var h=u.default.extend({moduleId:n.default.id,id:"mltkModelsView",headerOptions:{title:"Models"},initialize:function(e){var t=this;u.default.prototype.initialize.call(this,e),this.mlModelsCollection=new d.default,this.uiPrefsModel=new i.UIPrefModel,this.applicationModel=i.SharedModels.get("app"),this.stateModel=new i.BaseModel({sortKey:"name",sortDirection:"asc",count:100,offset:0,fetching:!0}),this.rawSearch=new i.BaseModel,this.uiPrefsDeferred||(this.uiPrefsDeferred=i.jquery.Deferred(),this.uiPrefsModel.bootstrap(this.uiPrefsDeferred,i.SharedModels.get("app").get("page"),i.SharedModels.get("app").get("app"),this.applicationModel.get("owner"))),this.uiPrefsModel.entry.content.on("change",(function(){t.populateUIPrefs()})),this.uiPrefsModel.entry.content.on("change:display.prefs.aclFilter",(function(){t.fetchListCollection()}))},populateUIPrefs:function(){var e={};this.uiPrefsModel.isNew()&&(e={app:this.applicationModel.get("app"),owner:this.applicationModel.get("owner")}),this.uiPrefsModel.save({},{data:e})},getButtonFilterSearch:function(){var e=this.uiPrefsModel.entry.content.get("display.prefs.aclFilter");if(a.default.isUndefined(e)||"none"===e)return"";switch(e){case"owner":return"(eai:acl.owner=".concat(i.splunkDUtils.quoteSearchFilterValue(this.applicationModel.get("owner")),")");case"app":return"(eai:acl.app=".concat(i.splunkDUtils.quoteSearchFilterValue(this.applicationModel.get("app")),")");default:return""}},fetchListCollection:function(){var e=this,t="system"===this.applicationModel.get("app")?"-":this.applicationModel.get("app"),s=this.stateModel.get("search")||"",l=this.getButtonFilterSearch(),o=this.stateModel.get("sortDirection"),a=this.stateModel.get("sortKey").split(","),n="natural";return l&&(s+=l),"name"!==a[0]&&"eai:acl.owner"!==a[0]&&"eai:acl.app"!==a[0]&&"eai:acl.sharing"!==a[0]||(o=[o,o],n=[n,n]),this.stateModel.set("fetching",!0),this.mlModelsCollection.fetch({data:{app:t,owner:i.SharedModels.get("app").get("owner"),sort_dir:o,sort_key:a,sort_mode:n,search:s,count:this.stateModel.get("count"),offset:this.stateModel.get("offset")},success:function(){e.stateModel.set("fetching",!1)}})},render:function(){var e=this;return u.default.prototype.render.call(this),this.fetchListCollection(),this.stateModel.on("change:sortDirection change:sortKey change:search change:offset",a.default.debounce((function(){e.fetchListCollection()}),0),this),this.mlModelsCollection.on("destroy",(function(){e.fetchListCollection()}),this),this.modelsList$El=this.$el.find("#".concat("modelsListContainer")),this.children.caption=new r.default({model:{state:this.stateModel,application:this.applicationModel,uiPrefs:this.uiPrefsModel,user:i.SharedModels.get("user"),serverInfo:i.SharedModels.get("serverInfo"),rawSearch:this.rawSearch},collection:{lookupModels:this.mlModelsCollection},filterKey:["name"],countLabel:"Models",inputPlaceholder:"Filter by model name",filterTransform:function(e){return null!=e&&e.length>0?"__mlspl_*".concat(e):e}}),this.children.caption.render().appendTo(this.$el.find("#".concat("modelsListContainer"))),this.children.modelsView=new c.default({model:{state:this.stateModel,application:this.applicationModel,uiPrefs:this.uiPrefsModel,userPref:i.SharedModels.get("userPref"),user:i.SharedModels.get("user"),appLocal:i.SharedModels.get("app"),serverInfo:i.SharedModels.get("serverInfo")},collection:{lookupModels:this.mlModelsCollection,roles:i.SharedModels.get("roles"),apps:i.SharedModels.get("appLocals")}}),this.children.modelsView.startListening(),this.children.modelsView.render().appendTo(this.$el.find("#".concat("modelsListContainer"))),this.modelsList$El.get(0).style.display="block",this},template:'\n        <div id="'.concat("modelsListContainer",'">\n            <div class="divider"></div>\n        </div>')});e.default=h,n.default.exports=t.default}.apply(t,l))||(e.exports=o)}).call(this,s("./node_modules/webpack/buildin/module.js")(e))},"models/table/Details":function(e,t,s){(function(e){var l,o;l=[t,s("./src/main/webapp/contrib_shim/underscore/underscore.es"),e,s("lookups/table/Details")],void 0===(o=function(e,s,l,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s=i(s),l=i(l);var a=(o=i(o)).default.extend({moduleId:l.default.id,render:function(){return s.default.extend(this.innerTemplateParams,{algorithm:this.model.lookupsModel.getType(),targetVariable:this.model.lookupsModel.getTargetVariable(),featureVariables:this.model.lookupsModel.getFeatureVariables()}),this.innerTemplate+='\n          <dl class="list-dotted">\n            <dt class="mltk-algorithm">Algorithm</dt>\n            <dd class="mltk-algorithm"><%= algorithm %></dd>\n            <% if (targetVariable) { %>\n                <dt class="mltk-target-variable">Target Variable(s)</dt>\n                <dd class="mltk-target-variable"><%= targetVariable %></dd>\n            <% } %>\n            <% if (featureVariables) { %>\n                <dt class="mltk-feature-variables">Feature Variables</dt>\n                <dd class="mltk-feature-variables"><%= featureVariables %></dd>\n            <% } %>\n          </dl>\n        ',o.default.prototype.render.apply(this,arguments),this}});e.default=a,l.default.exports=t.default}.apply(t,l))||(e.exports=o)}).call(this,s("./node_modules/webpack/buildin/module.js")(e))},"models/table/Master":function(e,t,s){(function(e){var l,o;l=[t,s("./src/main/webapp/contrib_shim/underscore/underscore.es"),e,s("lookups/table/Master"),s("models/table/Details"),s("models/table/TableRow")],void 0===(o=function(e,s,l,o,i,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s=n(s),l=n(l),o=n(o),i=n(i),a=n(a);var d={nameLabel:"Model Name",nameKey:"mlspl:model_info.model_name"},r=o.default.extend({modeulId:l.default.id,className:"mltk-models-table",details:{view:i.default,options:s.default.extend({},d)},tableRow:{view:a.default,options:s.default.extend({hasActions:!0},d)},tbodyClass:"mltk-models-listings",initialize:function(){this.columns=[{label:"i",className:"col-info",html:'<i class="icon-info"></i>'},{label:d.nameLabel,sortKey:"name"},{label:"Algorithm",className:"col-type"},{label:"Actions",className:"col-actions",visible:function(){return this.tableRow.options.hasActions}.bind(this)},{label:"Owner",sortKey:"eai:acl.owner,name",className:"col-owner"},{label:"App",sortKey:"eai:acl.app,name",className:"col-app"},{label:"Sharing",sortKey:"eai:acl.sharing,name",className:"col-sharing"}],o.default.prototype.initialize.apply(this,arguments)},updateTable:function(){var e=this.collection.lookupModels.some((function(e){return e.canDelete()}));this.tableRow.options.hasActions=0===this.collection.lookupModels.length||e,this.children.head.render(),o.default.prototype.updateTable.apply(this,arguments)}});e.default=r,l.default.exports=t.default}.apply(t,l))||(e.exports=o)}).call(this,s("./node_modules/webpack/buildin/module.js")(e))},"models/table/TableRow":function(e,t,s){(function(e){var l,o;l=[t,s("./node_modules/core-js/modules/es.array.find.js"),s("./node_modules/@splunk/swc-mltk/dist/index.js"),e,s("lookups/table/DeleteDialog"),s("lookups/table/PermissionsDialog"),s("lookups/table/TableRow")],void 0===(o=function(e,s,l,o,i,a,n){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o=d(o),i=d(i),a=d(a);var r=(n=d(n)).default.extend({moduleId:o.default.id,className:"expand",initialize:function(){l.BaseView.prototype.initialize.apply(this,arguments),this.$el.addClass(this.options.index%2?"even":"odd")},canEditPermissions:function(){return this.model.lookupsModel.canWrite()&&this.model.lookupsModel.canEditPermissions()},startListening:function(){var e=this;this.listenTo(this.model.lookupsModel,"updateCollection",(function(){e.model.state.trigger("change:search")})),this.listenTo(this.model.lookupsModel.entry.acl,"change:sharing",this.updateSharing)},updateSharing:function(){var e=this.model.lookupsModel.entry.acl.get("sharing"),t=this.model.user.canUseApps();"app"!==e||t||(e="system");var s=this.$("td.sharing");(this.canEditPermissions()?s.find("a.edit-permissions"):s).text(l.splunkDUtils.getSharingLabel(e))},events:{"click a.delete":function(e){this.children.deleteDialog=new i.default({model:{lookupsModel:this.model.lookupsModel},lookupType:"Model",lookupName:this.model.lookupsModel.getFormattedName(),onHiddenRemove:!0}),this.children.deleteDialog.render().appendTo((0,l.jquery)("body")),this.children.deleteDialog.show(),e.preventDefault()},"click a.edit-permissions":function(e){this.children.permissionsDialog=new a.default({document:this.model.lookupsModel,nameModel:this.model.lookupsModel.entry.content,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},this.collection,this.options),this.children.permissionsDialog.render().appendTo((0,l.jquery)("body")).show(),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({mlModelName:this.model.lookupsModel.getFormattedName(),hasActions:this.options.hasActions,mlModelDisplayType:this.model.lookupsModel.getType(),canEditPermissions:this.canEditPermissions(),canDelete:this.model.lookupsModel.canDelete(),app:this.model.lookupsModel.entry.acl.get("app"),owner:this.model.lookupsModel.entry.acl.get("owner"),canUseApps:this.model.user.canUseApps()})),this.updateSharing(),this},template:'\n        <td class="expands">\n            <a href="#"><i class="icon-triangle-right-small"></i></a>\n        </td>\n        <td class="title">\n            <span title="<%- mlModelName %>"><%- mlModelName %></span>\n        </td>\n        <td class="type">\n            <%- mlModelDisplayType %>\n        </td>\n        <% if (hasActions) { %>\n        <td class="actions actions-edit">\n            <% if (canDelete) { %>\n            <a class="delete">Delete</a>\n            <% } %>\n        </td>\n        <% } %>\n        <td class="owner"><%- owner %></td>\n        <% if (canUseApps) { %>\n            <td class="app"><%- app %></td>\n        <% } %>\n        <td class="sharing">\n            <% if (canEditPermissions) { %>\n                <a class="edit-permissions" href="#"></a>\n            <% } %>\n        </td>\n    '});e.default=r,o.default.exports=t.default}.apply(t,l))||(e.exports=o)}).call(this,s("./node_modules/webpack/buildin/module.js")(e))}},[["./node_modules/@splunk/swc-mltk/dist/build_tools/web_loaders/splunk-public-path-injection-loader.js?/static/app/Splunk_ML_Toolkit/!./src/main/webapp/pages/models.es","pages_common"]]]);